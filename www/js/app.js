var __t;__t=function(ns){var curr,index,part,parts,_i,_len;curr=null,parts=[].concat=ns.split(".");for(index=_i=0,_len=parts.length;_i<_len;index=++_i){part=parts[index];if(curr===null){curr=eval(part);continue}curr[part]==null?curr=curr[part]={}:curr=curr[part]}return curr};var app={};((function(){var a={}.hasOwnProperty,b=function(b,c){function e(){this.constructor=b}for(var d in c)a.call(c,d)&&(b[d]=c[d]);return e.prototype=c.prototype,b.prototype=new e,b.__super__=c.prototype,b};__t("app.lib").Classifier=function(){function a(){this.data=null}return a.prototype.loadData=function(a){var b=this;return $.getJSON(a,function(a){return b.data=a,console.log(b,b.data)})},a.prototype.exportData=function(a){return $.post(a,{data:this.data},function(){})},a.prototype.classify=function(){return"Not implemented"},a}(),__t("app").Constants=function(){function a(){}return a.TWEETS_PER_PAGE=20,a.MAX_TWEETS_SHOWN=150,a.MAX_COLUMNS=6,a}(),__t("app.controllers").AppController=function(){function a(){this.bag_of_words_classifier=new app.lib.BagOfWordsClassifier,this.bag_of_words_classifier.loadData("data/afinn-111-emo.json"),this.emoticon_naive_bayes_classifier=new app.lib.NaiveBayesClassifier,this.emoticon_naive_bayes_classifier.loadData("data/emoticon.json"),this.labeled_naive_bayes_classifier=new app.lib.NaiveBayesClassifier,this.labeled_naive_bayes_classifier.loadData("data/labeled.json")}return a}(),__t("app.controllers").OptionsController=function(){function a(){}return a}(),__t("app.controllers").StreamController=function(){function a(){}return a}(),__t("app.lib").BagOfWordsClassifier=function(a){function c(){c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.classify=function(a){var b,c,d,e,f,g,h,i,j;h=a.words(),e=0,b=0;for(i=0,j=h.length;i<j;i++)g=h[i],this.data[g]!==void 0&&(e+=this.data[g],b++);return d=Math.sqrt(b),f=e/d,c=f>0?"p":f<0?"n":null,[c,f]},c}(app.lib.Classifier),__t("app.lib").NaiveBayesClassifier=function(a){function c(){c.__super__.constructor.apply(this,arguments)}return b(c,a),c.prototype.classify=function(a){var b,c,d,e,f;f=a.tokenize(),e=[],d=0,b=null;for(c in this.data.categoryCount)e[c]=this.getProbability(f,c),e[c]>d&&(d=e[c],b=c);return[b,e[c]]},c.prototype.getProbability=function(a,b){var c,d,e,f,g,h,i=this;c=this.getCategoryCount(b)/this.getTotalCount(),e=function(a,b){return i.getFeatureProbability(a,b)},f=1;for(g=0,h=a.length;g<h;g++)d=a[g],f*=this.getWeightedProbability(d,b,e);return f*c},c.prototype.getFeatureProbability=function(a,b){var c,d;return c=this.getCategoryCount(b),c===0?0:(d=this.getFeatureCount(a,b),1*d/c)},c.prototype.getCategoryCount=function(a){return this.data.categoryCount[a]==null?0:this.data.categoryCount[a]},c.prototype.getFeatureCount=function(a,b){return this.data.featureCount[b]==null?0:this.data.featureCount[b][a]==null?0:1*this.data.featureCount[b][a]},c.prototype.getCategoryCount=function(a){return this.data.categoryCount[a]==null?0:this.data.categoryCount[a]},c.prototype.getTotalCount=function(){var a,b,c,d;b=0,d=this.data.categoryCount;for(a in d)c=d[a],b+=c;return b},c.prototype.getWeightedProbability=function(a,b,c){var d,e,f,g,h,i,j;g=1,d=.5,e=c(a,b),f=0,j=this.getCategories();for(h=0,i=j.length;h<i;h++)b=j[h],f+=this.getFeatureCount(a,b);return(g*d+f*e)/(g+f)},c.prototype.getCategories=function(){var a,b,c,d;c=this.categoryCount,d=[];for(a in c)b=c[a],d.push(a);return d},c}(app.lib.Classifier),__t("app.models").OptionsModel=function(){function a(){}return a}(),__t("app.models").StreamModel=function(){function a(){}return a}(),__t("app.models").TweetModel=function(){function b(b){this.text=b.text,this.clean_text=a(this.text),b.from_user&&(this.username=b.from_user),b.created_at&&(this.created_at=b.created_at),b.profile_image_url&&(this.profile_url=b.profile_image_url),this.sentiment=b.sentiment?b.sentiment:void 0}var a;return b.prototype.tokenize=function(){var a,b,c,d,e,f;d=this.clean_text.split(/\s+/g),b=d,a=void 0;for(e=0,f=d.length;e<f;e++)c=d[e],a!==void 0&&b.push(""+a+" "+c),a=c;return b},b.prototype.words=function(){return this.clean_text.split(/\s+/g)},a=function(a){var b,c,d,e,f,g,h,i;return a=a.toLowerCase(),g=/&[a-z]+;/g,a=a.replace(g,""),f=/([a-z])'([a-z])/g,a=a.replace(f,"$1$2"),i=/(((f|ht){1}tp(s)?:\/\/)[-a-zA-Z0-9@:%_\+.~?&\/\/=]+)/,a=a.replace(i,""),h=/@[a-z0-9]+|#[a-z0-9]+/g,a=a.replace(h,""),d=/([a-z])([\.,-\/\#!?$%\^&\*;:{}=\-_`"'~()])([a-z ])/g,a=a.replace(d,"$1 $2 $3"),e=/([\.,-\/\#!?$%\^&\*;:{}=\-_`"'~()])([a-z])/g,a=a.replace(e,"$1 $2"),c=/([a-z])([\.,-\/\#!?$%\^&\*;:{}=\-_`"'~()])/g,a=a.replace(c,"$1 $2"),b=/([a-z])\1+/g,a=a.replace(b,"$1"),a=a.trim(),a},b}(),__t("app.views").OptionsView=function(){function a(){}return a}(),__t("app.views").StreamView=function(){function a(){}return a}(),__t("app.views").TweetView=function(){function a(){}return a}(),$(document).ready(function(){var a;return a=new app.controllers.AppController})})).call(this)